webpackJsonp([44],{L0oV:function(e,t){},nSD5:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return c});var a=n("Q+Ik"),l=n.n(a),o=n("rVsN"),i=n.n(o),r={1:{name:"订单主表",schema:"order"},2:{name:"订单商品主表",schema:"order"},3:{name:"商品主表",schema:"order"},4:{name:"优惠券主表",schema:"order"}},d=function(e){return i.a.resolve(l()(r).map(function(e){return{id:+e[0],name:e[1].name}}))},c=function(e){return i.a.resolve({columns:[{name:"字段1",column:"column1",type:"类型",comment:"备注"+Date.now()},{name:"字段2",column:"column2",type:"类型",comment:"备注"+Date.now()},{name:"字段3",column:"column3",type:"类型",comment:"备注"+Date.now()},{name:"字段4",column:"column4",type:"类型",comment:"备注"+Date.now()}],id:e,name:r[e].name,description:"主表，相关的数据"})}},sjwz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("aA9S"),l=n.n(a),o=n("lC5x"),i=n.n(o),r=n("J0Oq"),d=n.n(r),c=n("nSD5"),s={props:{onOk:{type:Function,default:function(){}}},data:function(){return{library:"publics",tableListApi:c.b,tableInfoApi:c.a,tableInfo:{},columns:[{field:"name",header:"字段名",width:100},{field:"type",header:"类型",width:100},{field:"comment",header:"说明",width:300},{field:"action",header:"操作",width:80,html:!0,actions:[{text:"【取消字段】",handler:function(e){}}]}]}},methods:{onLibraryClicked:function(){},onSelectTable:function(e){var t=this;return d()(i.a.mark(function n(){var a;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:(a=e[0]||{}).id?Object(c.a)(a.id).then(function(e){t.tableInfo=e,t.tableInfo.id=a.id}):(t.tableInfo={},t.tableInfo.id=null);case 2:case"end":return n.stop()}},n,t)}))()},setInterfaces:function(e){},open:function(e){var t=e.getModel();console.log(e,t),this.tableInfo=l()({},t.data),this.tableInfo.id=t.data?t.data.id:null,this.$refs.editNodeDialog.open()},confirm:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.onOk&&e.onOk(l()({},e.tableInfo)),e.$refs.editNodeDialog.close())})}},mounted:function(){},components:{"v-dialog":function(){return n.e(31).then(n.bind(null,"j9Pd"))},"v-selector":function(){return n.e(30).then(n.bind(null,"qNHp"))},"v-datagrid":function(){return n.e(32).then(n.bind(null,"mW4C"))}}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{ref:"editNodeDialog",attrs:{title:"选择表",ok:e.confirm,width:1e3}},[n("div",{attrs:{slot:"body"},slot:"body"},[n("el-form",{ref:"form",staticClass:"edit-node-dialog",attrs:{model:e.tableInfo,"label-width":"8em"}},[n("el-form-item",[n("el-radio",{attrs:{label:"publics"},model:{value:e.library,callback:function(t){e.library=t},expression:"library"}},[e._v("公共库")]),e._v(" "),n("el-radio",{attrs:{label:"privates"},model:{value:e.library,callback:function(t){e.library=t},expression:"library"}},[e._v("私有库")])],1),e._v(" "),n("el-form-item",{attrs:{prop:"id",label:"请选择一个表:",required:"",rules:[{required:!0,message:"请选择一个表",trigger:["blur","change"]}]}},["publics"===e.library?n("v-selector",{staticStyle:{width:"666px"},attrs:{id:"id",text:"name",searchKey:"name",onSelectionChanged:e.onSelectTable,filterable:!0,remote:!0,placeholder:"请从公共库选择一个表（可输入名称进行搜索）",load:e.tableInfo.id?[e.tableInfo.id]:null,url:e.tableListApi}}):e._e(),e._v(" "),"privates"===e.library?n("v-selector",{staticStyle:{width:"666px"},attrs:{id:"id",text:"name",searchKey:"name",onSelectionChanged:e.onSelectTable,filterable:!0,remote:!0,placeholder:"请从私有库选择一个表（可输入名称进行搜索）",load:e.tableInfo.id?[e.tableInfo.id]:null,url:e.tableListApi}}):e._e(),e._v(" "),n("el-input",{staticClass:"hidden",model:{value:e.tableInfo.id,callback:function(t){e.$set(e.tableInfo,"id",t)},expression:"tableInfo.id"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"表说明:"}},[n("i",[e._v(e._s(e.tableInfo&&e.tableInfo.description))])]),e._v(" "),n("el-form-item",{attrs:{label:"字段详情:"}},[n("v-datagrid",{attrs:{"load-data":e.tableInfo.columns,columns:e.columns,pageable:!1}})],1)],1)],1)])],1)},staticRenderFns:[]};var f=n("C7Lr")(s,u,!1,function(e){n("L0oV")},"data-v-2520f7c2",null);t.default=f.exports}});
//# sourceMappingURL=44.60d2b7a17c830cdf0d78.js.map