{"version":3,"sources":["webpack:///src/components/parameter/index.vue","webpack:///./src/components/parameter/index.vue?f041","webpack:///./src/components/parameter/index.vue"],"names":["parameter","name","props","json","type","Array","default","data","mounted","this","init","methods","_this","flatMap","s","body","key","undefined","generateChild","generateBodyComment","node","_this2","children","o","forEach","comment","notNull","_this3","k","defaults","that","concat","components","v-jsonformatter","__webpack_require__","e","then","bind","components_parameter","render","_vm","_h","$createElement","_c","_self","staticStyle","width","margin-bottom","attrs","row-key","border","default-expand-all","prop","label","_v","formatter","row","column","cellValue","scopedSlots","_u","fn","scope","domProps","innerHTML","_s","minHeight","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/35.31a3c801df3b1e3fcaba.js","sourcesContent":["<template>\n  <div>\n    <el-table\n      :data=\"data || []\"\n      style=\"width: 100%;margin-bottom: 20px;\"\n      row-key=\"key\"\n      border\n      default-expand-all>\n      <el-table-column\n        prop=\"key\"\n        label=\"参数名\"\n        width=\"150\">\n      </el-table-column>\n      <el-table-column\n        prop=\"type\"\n        label=\"类型\"\n        width=\"120\">\n      </el-table-column>\n      <el-table-column\n        prop=\"notNull\"\n        label=\"是否必填\"\n        :formatter=\"(row, column, cellValue) => cellValue ? '是' : '否'\"\n        width=\"120\">\n      </el-table-column>\n      <el-table-column\n        prop=\"defaults\"\n        label=\"默认值\"\n        :formatter=\"(row, column, cellValue) => cellValue === undefined ? '' : cellValue + ''\"\n        width=\"100\">\n      </el-table-column>\n      <el-table-column\n        prop=\"comment\"\n        label=\"说明\"\n        width=\"800\">\n        <template slot-scope=\"scope\">\n          <div v-html=\"scope.row.comment\"></div>\n          <v-jsonformatter v-if=\"scope.row.body\" :json=\"scope.row.body\" :minHeight=\"100\"></v-jsonformatter>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n/**\n* @author ： 李银 on 2019-06-20 17:05:03\n*\n* 数据结构：\n* {\n*     \"key\": \"images\",\n*     \"notNull\": true,\n*     \"comment\": \"sku图片\",\n*     \"type\": \"String\",\n*     \"children\": [{\n*         \"key\": \"images\",\n*         \"notNull\": true,\n*         \"comment\": \"sku图片\",\n*         \"type\": \"String\",\n*         \"children\": [{...}]\n*     }]\n* }\n*\n* 入参：\n* json:Array     - 数据结构见上面\n*\n**/\n<script>\n\nexport default {\n  name: 'parameter',\n  props: {\n    json: {\n      type: Array,\n      default: null\n    }\n  },\n  data () {\n    return {\n      data: []\n    }\n  },\n  mounted () {\n    this.init()\n  },\n  methods: {\n    init () {\n      // 把json数据结构全部打平\n      this.data = this.json.flatMap(s => {\n        // FIXME: 第一层的Object参数名去掉\n        if (s.type === 'Object' && !s.body) {\n          s.key = undefined\n        }\n        return this.generateChild(s, undefined)\n      })\n    },\n    generateBodyComment (node) {\n      if (node.type === 'List') {\n        return [this.generateBodyComment(node.children[0])]\n      } else if (node.type === 'Object') {\n        const o = {}\n        node.children = node.children || []\n        node.children.forEach(s => {\n          o[s.key] = this.generateBodyComment(s)\n        })\n        return o\n      } else if (node.type === undefined) {\n        return '...'\n      } else if (node.type === 'void') {\n        return '无'\n      } else {\n        return `${node.comment ? node.comment + '； ' : ''} 数据类型：${node.type}； ${node.notNull ? '此项一定不为空；' : ''}`\n      }\n    },\n    generateChild (node, key) {\n      const k = (key ? (key + '.') : '') + (node.key || '')\n      if (node.body) {\n        const comment = node.comment || ''\n        return [{\n          key: k,\n          notNull: node.notNull,\n          comment: comment,\n          body: this.generateBodyComment(node),\n          defaults: node.defaults,\n          type: 'body'\n        }]\n      } else {\n        if (node.type === 'List') {\n          let that = [{\n            key: k,\n            notNull: node.notNull,\n            comment: node.comment,\n            defaults: node.defaults,\n            type: 'List<' + (node.children[0].type || 'Object') + '>'\n          }]\n          if (node.children[0].type === 'Object' || node.children[0].type === 'List') {\n            that = that.concat(\n              (node.children[0].children || []).flatMap(s => this.generateChild(s, k))\n            )\n          }\n          return that\n        } else if (node.type === 'Object') {\n          return (node.children || []).flatMap(s => this.generateChild(s, k))\n        } else {\n          return {\n            key: k,\n            notNull: node.notNull,\n            comment: node.comment,\n            defaults: node.defaults,\n            type: node.type\n          }\n        }\n      }\n    }\n  },\n  components: {\n    'v-jsonformatter': () => import('@/components/jsonformatter')\n  }\n}\n</script>\n\n<style lang='scss' scoped>\n  @import 'index';\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/parameter/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"20px\"},attrs:{\"data\":_vm.data || [],\"row-key\":\"key\",\"border\":\"\",\"default-expand-all\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"key\",\"label\":\"参数名\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"类型\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"notNull\",\"label\":\"是否必填\",\"formatter\":function (row, column, cellValue) { return cellValue ? '是' : '否'; },\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"defaults\",\"label\":\"默认值\",\"formatter\":function (row, column, cellValue) { return cellValue === undefined ? '' : cellValue + ''; },\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"comment\",\"label\":\"说明\",\"width\":\"800\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{domProps:{\"innerHTML\":_vm._s(scope.row.comment)}}),_vm._v(\" \"),(scope.row.body)?_c('v-jsonformatter',{attrs:{\"json\":scope.row.body,\"minHeight\":100}}):_vm._e()]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-3dc81fa4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/parameter/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3dc81fa4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3dc81fa4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3dc81fa4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/parameter/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}