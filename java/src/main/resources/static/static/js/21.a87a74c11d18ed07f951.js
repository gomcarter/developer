webpackJsonp([21],{"+XcP":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("0Njg"),i=n("R2SV"),l=n("Dx6B"),a={name:"testCaseHistory",data:function(){var e=this;return{ENV_DOMAIN_MAP:l.b,filter:{id:null,env:null,name:null},dataUrl:r._14,countUrl:r._12,params:{},columns:[{field:"action",header:"操作",width:120,html:!0,actions:[{text:"查看",handler:function(t){return e.view(t.id)}},{text:"删除",handler:function(t){return e.delete(t.id)}}]},{field:"id",header:"编号",sort:"id",width:100},{field:"env",header:"环境",sort:"env",width:120,formatter:function(e,t,n){return l.b[n]}},{field:"name",header:"名称",sort:"name",width:220},{field:"total",header:"执行次数",sort:"total",width:120},{field:"success",header:"成功次数",sort:"success",width:120},{field:"failed",header:"失败次数",sort:"failed",width:120},{field:"createTime",header:"执行时间",sort:"create_time",width:230,formatter:function(e,t,n){return Object(i.b)(n)}}]}},mounted:function(){window.that=this},methods:{view:function(e){this.$router.push("/flow/testCase/history/"+e)},delete:function(e){var t=this;console.log(e),this.$confirm("删除将无法恢复，确认删除吗？","提示",{type:"warning"}).then(function(){Object(r.s)(e).then(function(){t.$success("删除成功！"),t.search()})})},search:function(){this.params=Object(i.g)(this.filter)},clear:function(){this.params={},this.filter={}}},components:{"v-datagrid":function(){return n.e(32).then(n.bind(null,"mW4C"))},"v-selector":function(){return n.e(30).then(n.bind(null,"qNHp"))}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h4",{staticClass:"title"},[e._v("筛选条件")]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"filters"},[n("el-form",{attrs:{inline:!0,model:e.filter,"label-width":"6em"}},[n("el-form-item",{attrs:{label:"编号"}},[n("el-input",{attrs:{type:"number",placeholder:"请输入编号"},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filter.id,callback:function(t){e.$set(e.filter,"id",t)},expression:"filter.id"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"环境："}},[n("el-select",{model:{value:e.filter.env,callback:function(t){e.$set(e.filter,"env",t)},expression:"filter.env"}},e._l(e.ENV_DOMAIN_MAP,function(e,t){return n("el-option",{key:t,attrs:{label:e,value:t}})}),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{placeholder:"请输入名称"},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),n("el-button",{attrs:{type:"info",icon:"el-icon-delete"},on:{click:e.clear}},[e._v("清空")])],1)],1)],1),e._v(" "),n("h4",{staticClass:"title"},[e._v("用例执行历史列表")]),e._v(" "),n("hr"),e._v(" "),n("v-datagrid",{ref:"dg",attrs:{columns:e.columns,"data-url":e.dataUrl,"count-url":e.countUrl,params:e.params}})],1)},staticRenderFns:[]};var o=n("C7Lr")(a,s,!1,function(e){n("wvx4")},"data-v-1ca28117",null);t.default=o.exports},wvx4:function(e,t){}});
//# sourceMappingURL=21.a87a74c11d18ed07f951.js.map