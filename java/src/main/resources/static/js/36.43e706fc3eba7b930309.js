webpackJsonp([36,41],{Dx6B:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r={devDomain:"开发环境",testDomain:"测试环境",prevDomain:"预发环境",onlineDomain:"生产环境"},a={devDomain:"tgos-dev",testDomain:"tgos-test"}},paE2:function(e,t){},vTTj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("aA9S"),a=n.n(r),s=n("0Njg"),i=n("R2SV"),l=n("Dx6B"),o={props:{onOk:{type:Function,default:function(){}}},data:function(){return{ENV_DOMAIN_MAP:l.b,env:"testDomain",nodeId:null,node:{interfaceId:null,interfaceName:null,hash:null,method:null,url:null,parameters:{},headers:[],returns:null,java:null,requestHeaders:[]},generatedReturns:null,interfacesSimpleListApi:s.T,functionListApi:s.A}},methods:{handleClickEnv:function(e,t){},onSelectInterface:function(e){var t=e[0]||{};this.node.interfaceId=t.id,this.node.interfaceName=t.name,this.node.hash=null,this.setInterfaces(t)},setInterfaces:function(e){for(var t in this.node.url=e.url,this.node.method=e.method,this.node.java=e.java,l.b)this.$set(this.node.parameters,t,Object(i.d)(e.parameters));e.returns?(this.node.returns=JSON.parse(e.returns),this.generatedReturns=Object(i.e)(this.node.returns)):(this.node.returns=null,this.generatedReturns=null),e.end.header?(this.node.headers=JSON.parse(e.end.header),this.node.requestHeaders=JSON.parse(e.end.header)):this.node.headers=[{key:"",value:""}]},open:function(e){this.node.interfaceId=e.interfaceId,this.node.interfaceName=e.interfaceName,this.node.hash=e.hash,this.node.headers=e.headers||[{key:"",value:""}],this.node.requestHeaders=e.requestHeaders||[],this.node.parameters=a()({},e.parameters),this.node.java=e.java,this.node.url=e.url,this.node.method=e.method,e.returns?(this.node.returns=e.returns,this.generatedReturns=Object(i.e)(this.node.returns)):(this.node.returns=null,this.generatedReturns=null),this.$refs.editNodeDialog.open()},confirm:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.onOk&&e.onOk(a()({},e.node)),e.$refs.editNodeDialog.close())})},addHeader:function(){this.node.headers.push({key:"",value:""})},addRequestHeader:function(){this.node.requestHeaders.push({key:"",value:""})},delHeader:function(e){this.node.headers.splice(e,1)},delRequestHeader:function(e){this.node.requestHeaders.splice(e,1)}},mounted:function(){},components:{"v-dialog":function(){return n.e(31).then(n.bind(null,"j9Pd"))},"v-selector":function(){return n.e(30).then(n.bind(null,"qNHp"))},"v-jsonformatter":function(){return n.e(32).then(n.bind(null,"9YOq"))},"v-parameter-input":function(){return n.e(34).then(n.bind(null,"WfCw"))}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{ref:"editNodeDialog",attrs:{title:"选择鉴权接口",ok:e.confirm,width:1e3}},[n("el-form",{ref:"form",staticClass:"edit-node-dialog",attrs:{slot:"body",model:e.node,"label-width":"8em"},slot:"body"},[n("el-form-item",{attrs:{prop:"interfaceId",label:"选择一个接口",required:"",rules:[{required:!0,message:"请选择一个接口",trigger:["blur","change"]}]}},[n("v-selector",{staticStyle:{width:"666px"},attrs:{id:"id",text:"complexName",searchKey:"name",onSelectionChanged:e.onSelectInterface,filterable:!0,remote:!0,placeholder:"请选择一个接口（可输入名称或接口ID进行搜索）",load:e.node.interfaceId?[e.node.interfaceId]:null,url:e.interfacesSimpleListApi}}),e._v(" "),n("el-input",{staticClass:"hidden",model:{value:e.node.interfaceId,callback:function(t){e.$set(e.node,"interfaceId",t)},expression:"node.interfaceId"}})],1),e._v(" "),e.node.interfaceId?n("el-form-item",{attrs:{label:"访问类型:"}},[n("div",[e._v(e._s(e.node.method))])]):e._e(),e._v(" "),e.node.interfaceId?n("el-form-item",{attrs:{label:"接口地址:"}},[n("div",[e._v(e._s(e.node.url))])]):e._e(),e._v(" "),e.node.interfaceId?n("el-form-item",{attrs:{label:"请求Headers:"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:"",size:"small"},on:{click:function(t){return e.addRequestHeader()}}}),e._v(" "),e.node.requestHeaders?n("el-form",e._l(e.node.requestHeaders,function(t,r){return n("el-form-item",{key:r},[n("el-input",{staticClass:"param-key",attrs:{placeholder:"请输入header名"},model:{value:t.key,callback:function(n){e.$set(t,"key",n)},expression:"h.key"}}),e._v(" "),n("span",{staticClass:"v-top"},[e._v("=")]),e._v(" "),n("el-input",{staticClass:"param-value",attrs:{placeholder:"请输入header值"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"h.value"}}),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small"},on:{click:function(t){return e.delRequestHeader(r)}}})],1)}),1):e._e()],1):e._e(),e._v(" "),e.node.interfaceId?n("el-form-item",{attrs:{label:"接口参数:"}},[n("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClickEnv},model:{value:e.env,callback:function(t){e.env=t},expression:"env"}},e._l(e.ENV_DOMAIN_MAP,function(t,r){return n("el-tab-pane",{key:r,attrs:{label:t,value:r,name:r}},[n("v-parameter-input",{attrs:{parameters:e.node.parameters[r]}})],1)}),1)],1):e._e(),e._v(" "),e.node.interfaceId?n("el-form-item",{attrs:{label:"返回值:"}},[e.generatedReturns?n("v-jsonformatter",{attrs:{json:e.generatedReturns,"min-height":100}}):e._e()],1):e._e(),e._v(" "),e.node.interfaceId?n("el-form-item",{attrs:{label:"存储Headers:"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:"",size:"small"},on:{click:function(t){return e.addHeader()}}}),e._v(" "),e.node.headers?n("el-form",e._l(e.node.headers,function(t,r){return n("el-form-item",{key:r},[n("el-input",{staticClass:"param-key",attrs:{placeholder:"请输入header名"},model:{value:t.key,callback:function(n){e.$set(t,"key",n)},expression:"h.key"}}),e._v(" "),n("span",[e._v("=")]),e._v(" "),n("el-input",{staticClass:"param-value",attrs:{placeholder:"this为返回值，如：this.data.token将结果设置到header中"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"h.value"}}),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small"},on:{click:function(t){return e.delHeader(r)}}})],1)}),1):e._e()],1):e._e()],1)],1)],1)},staticRenderFns:[]};var u=n("C7Lr")(o,d,!1,function(e){n("paE2")},"data-v-0408719a",null);t.default=u.exports}});
//# sourceMappingURL=36.43e706fc3eba7b930309.js.map