{"version":3,"sources":["webpack:///src/components/node-editor/index.vue","webpack:///./src/components/node-editor/index.vue?646f","webpack:///./src/components/node-editor/index.vue"],"names":["node_editor","props","onOk","type","Function","default","data","getCusInterfacesItemListApi","inserv_api","nodeId","node","sleep","interfaceId","interfaceName","history","hash","method","url","parameters","preParams","headers","javascript","returns","java","generatedReturns","interfacesVersionedSimpleListApi","interfacesSimpleListApi","functionListApi","customInterfacesId","methods","onSelectCusInterfacesItem","selections","select","this","cusParameters","JSON","parse","cusHeaders","onSelectInterface","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","selection","wrap","_context","prev","next","id","name","t0","getConfiguredParameters","t1","sent","setInterfaces","call","stop","loadCusInterfacesItem","interfacesId","_this2","_callee2","cus","itemList","item","_context2","abrupt","Object","length","_this3","_callee3","_context3","utils","onSelectHistoryInterface","_this4","_callee4","_context4","end","$set","header","open","model","edges","$refs","editNodeDialog","confirm","_this5","form","validate","valid","assign_default","close","paste","e","addHeader","push","key","value","delHeader","i","splice","mounted","$el","addEventListener","components","v-dialog","__webpack_require__","then","bind","v-selector","v-jsonformatter","v-parameter-input","components_node_editor","render","_vm","_h","$createElement","_c","_self","ref","attrs","title","ok","width","staticClass","slot","label-width","prop","label","required","rules","message","trigger","staticStyle","text","searchKey","onSelectionChanged","filterable","remote","placeholder","load","_v","callback","$$v","expression","extraParams","_e","rows","_s","display","icon","circle","size","on","click","$event","_l","h","index","json","min-height","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/39.083d1f469fcda863b154.js","sourcesContent":["<template>\n  <div>\n    <v-dialog ref=\"editNodeDialog\" :title=\"'配置节点，当前节点编号：' + nodeId\" :ok=\"confirm\" :width=\"1000\">\n      <el-form slot=\"body\" ref=\"form\" :model=\"node\" label-width=\"8em\" class=\"edit-node-dialog\">\n        <el-form-item prop=\"interfaceId\" label=\"选择一个接口\" required\n                      :rules=\"[{ required: true, message: '请选择一个接口', trigger: ['blur', 'change'] }]\">\n          <v-selector :id=\"'id'\" :text=\"'complexName'\" :searchKey=\"'name'\" style=\"width: 666px;\"\n                      :onSelectionChanged=\"onSelectInterface\"\n                      :filterable=\"true\" :remote=\"true\" placeholder=\"请选择一个接口（可输入名称进行搜索）\"\n                      :load=\"node.interfaceId ? [node.interfaceId] : null\"\n                      :url=\"interfacesSimpleListApi\"\n          ></v-selector>\n          <el-input v-model=\"node.interfaceId\" class=\"hidden\"></el-input>\n          <el-checkbox v-model=\"node.history\">使用历史版本</el-checkbox>\n        </el-form-item>\n        <el-form-item label=\"历史接口\" v-if=\"node.history\">\n          <v-selector :id=\"'hash'\"  :text=\"'name'\"\n                      :onSelectionChanged=\"onSelectHistoryInterface\" placeholder=\"请选择一个历史版本（不选择，当前接口作为副本）\"\n                      :remote=\"true\" :load=\"node.hash ? [node.hash] : null\"\n                      :url=\"interfacesVersionedSimpleListApi\" :extraParams=\"node.interfaceId ? {interfacesId: node.interfaceId} : {interfacesId: -1}\"\n          ></v-selector>\n        </el-form-item>\n        <el-form-item label=\"已存用例\" v-if=\"customInterfacesId\">\n          <v-selector :id=\"'id'\" :text=\"'name'\" :searchKey=\"'name'\"\n                      style=\"width: 400px;\"\n                      :onSelectionChanged=\"onSelectCusInterfacesItem\" placeholder=\"请选择一个历史保存的用例\"\n                      :remote=\"true\" :filterable=\"true\" :url=\"getCusInterfacesItemListApi\"\n                      :extraParams=\"customInterfacesId ? {customInterfacesId: customInterfacesId, rows: 20} : {customInterfacesId: -1}\"\n          ></v-selector>\n        </el-form-item>\n        <el-form-item label=\"访问类型:\" v-if=\"node.interfaceId\">\n          <div>{{node.method}}</div>\n        </el-form-item>\n        <el-form-item label=\"接口地址:\" v-if=\"node.interfaceId\">\n          <div>{{node.url}}</div>\n        </el-form-item>\n        <el-form-item label=\"休眠\" v-if=\"node.interfaceId\">\n          <el-input v-model=\"node.sleep\" style=\"display: inline-block; width: 100px\" placeholder=\"0\"></el-input>&#12288;秒之后运行\n        </el-form-item>\n        <el-form-item label=\"必备Header:\" v-if=\"node.interfaceId\">\n          <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"addHeader()\" circle size=\"small\"></el-button>\n          <el-form v-if=\"node.headers\">\n            <el-form-item v-for=\"(h, index) of node.headers\" v-bind:key=\"index\">\n              <el-input placeholder=\"请输入headers参数名\" class=\"param-key\" v-model=\"h.key\">\n                <template slot=\"prepend\"><span>参数名</span></template>\n              </el-input>\n              <span class=\"v-top\">=</span>\n              <el-input placeholder=\"请输入headers参数值\" class=\"param-value\" v-model=\"h.value\">\n                <template slot=\"prepend\"><span>参数值</span></template>\n              </el-input>\n              <el-button type=\"danger\" icon=\"el-icon-delete\" @click=\"delHeader(index)\" circle size=\"small\"></el-button>\n            </el-form-item>\n          </el-form>\n        </el-form-item>\n        <el-form-item label=\"预置参数:\" v-if=\"node.interfaceId\">\n          <v-parameter-input :parameters=\"node.preParams\"></v-parameter-input>\n        </el-form-item>\n        <el-form-item label=\"接口参数:\" v-if=\"node.interfaceId\">\n          <v-parameter-input :parameters=\"node.parameters\"></v-parameter-input>\n        </el-form-item>\n        <el-form-item label=\"返回值数据结构:\" v-if=\"node.interfaceId\">\n          <v-jsonformatter v-if=\"generatedReturns\" :json=\"generatedReturns\" :min-height=\"100\"></v-jsonformatter>\n        </el-form-item>\n        <el-form-item label=\"检查点:\" v-if=\"node.interfaceId\">\n          <el-input :placeholder=\"`注：本接口的调用结果将存入$${nodeId}和this中。\n另外可以获取上游节（以及上游的上游）点带来的数据，如：$anotherNode.xx\n在这里写入一些检查点脚本，示例：\n\nassert(this.name != null, '返回名称不能为空！')\nassert($${nodeId}.id != null, '返回id不能为空！')\nassert($${nodeId}.quantity > 0, '数量必须大于等于零！')\n\n如果报错了，那么整个流程将被终止。`\" :rows=\"18\" type=\"textarea\" v-model=\"node.javascript\">\n          </el-input>\n        </el-form-item>\n      </el-form>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport { functionListApi, interfacesSimpleListApi, interfacesVersionedSimpleListApi, getCusInterfacesItemListApi,\n  getCusInterfacesByInterfacesIdApi } from '@/config/api/inserv-api'\nimport { generateParameters, fillParamsFromClipboardData, generateReturns } from '@/config/utils'\n\nexport default {\n  props: {\n    onOk: {\n      type: Function,\n      default: () => {}\n    }\n  },\n  data () {\n    return {\n      getCusInterfacesItemListApi,\n      nodeId: null,\n      node: {\n        sleep: 0,\n        interfaceId: null,\n        interfaceName: null,\n        history: false,\n        hash: null,\n        method: null,\n        url: null,\n        parameters: null,\n        preParams: null,\n        headers: [],\n        javascript: null,\n        returns: null,\n        java: null\n      },\n      generatedReturns: null,\n      interfacesVersionedSimpleListApi,\n      interfacesSimpleListApi,\n      functionListApi,\n      customInterfacesId: null\n    }\n  },\n  methods: {\n    onSelectCusInterfacesItem (selections) {\n      const select = selections[0]\n      if (select) {\n        this.node.parameters = select.cusParameters ? JSON.parse(select.cusParameters) : []\n        this.node.javascript = select.javascript ? JSON.parse(select.javascript) : null\n        this.node.preParams = select.preParams ? JSON.parse(select.preParams) : null\n        if (select.cusHeaders) {\n          this.node.headers = JSON.parse(select.cusHeaders)\n        }\n      }\n    },\n    async onSelectInterface (selections) {\n      const selection = selections[0] || {}\n      this.node.interfaceId = selection.id\n      this.node.interfaceName = selection.name\n      this.node.hash = null\n\n      this.setInterfaces(await this.getConfiguredParameters(selection.id, selection))\n    },\n    async loadCusInterfacesItem (interfacesId) {\n      this.customInterfacesId = null\n      if (!interfacesId) {\n        return\n      }\n      // 在已经配置好的中选择一个\n      const cus = await getCusInterfacesByInterfacesIdApi(interfacesId)\n      if (cus) {\n        this.customInterfacesId = cus.id\n        const itemList = await getCusInterfacesItemListApi({customInterfacesId: cus.id})\n        if (itemList.length > 0) {\n          const item = itemList[0]\n          this.node.parameters = item.cusParameters ? JSON.parse(item.cusParameters) : []\n          this.node.javascript = item.javascript ? JSON.parse(item.javascript) : null\n          this.node.preParams = item.preParams ? JSON.parse(item.preParams) : null\n          if (item.cusHeaders) {\n            this.node.headers = JSON.parse(item.cusHeaders)\n          }\n        }\n      }\n    },\n    async getConfiguredParameters (interfacesId, selection) {\n      if (!interfacesId) {\n        return {}\n      }\n      selection.parameters = generateParameters(selection.parameters)\n      return selection\n    },\n    async onSelectHistoryInterface (selections) {\n      const selection = selections[0] || {}\n      this.node.hash = selection.hash\n\n      this.setInterfaces(await this.getConfiguredParameters(selection.id, selection))\n    },\n    setInterfaces (selection) {\n      this.node.url = selection.url\n      this.node.method = selection.method\n      this.node.java = selection.java\n      this.node.sleep = selection.sleep\n      this.node.parameters = selection.parameters\n      this.node.javascript = selection.javascript\n      this.node.preParams = selection.preParams || []\n      if (selection.returns) {\n        this.node.returns = JSON.parse(selection.returns)\n        this.generatedReturns = generateReturns(this.node.returns)\n      } else {\n        this.node.returns = null\n        this.generatedReturns = null\n      }\n\n      if (selection.end) {\n        this.$set(this.node, 'headers', selection.end.header ? JSON.parse(selection.end.header) : [])\n      }\n\n      this.loadCusInterfacesItem(selection.id)\n    },\n    open (model, edges) {\n      const data = model.data || {}\n      this.nodeId = model.id\n      // load\n      this.node.interfaceId = data.interfaceId\n      this.node.interfaceName = data.interfaceName\n      this.node.history = data.history || false\n      this.node.hash = data.hash\n      this.node.headers = data.headers || []\n      this.node.parameters = data.parameters || []\n      this.node.preParams = data.preParams || []\n      this.node.javascript = data.javascript\n      this.node.java = data.java\n      this.node.url = data.url\n      this.node.sleep = data.sleep\n      this.node.method = data.method\n\n      if (data.returns) {\n        this.node.returns = data.returns\n        this.generatedReturns = generateReturns(this.node.returns)\n      } else {\n        this.node.returns = null\n        this.generatedReturns = null\n      }\n      this.$refs.editNodeDialog.open()\n    },\n    confirm () {\n      this.$refs.form.validate((valid) => {\n        if (valid) {\n          this.onOk && this.onOk(Object.assign({}, this.node))\n          this.$refs.editNodeDialog.close()\n        }\n      })\n    },\n    paste (e) {\n      fillParamsFromClipboardData(e, this.node.parameters)\n    },\n    addHeader () {\n      let obj = {key: '', value: ''}\n      this.node.headers.push(obj)\n    },\n    delHeader (i) {\n      this.node.headers.splice(i, 1)\n    }\n  },\n  mounted () {\n    // 绑定参数粘帖事件\n    this.$el.addEventListener('paste', this.paste)\n  },\n  components: {\n    'v-dialog': () => import('@/components/dialog'),\n    'v-selector': () => import('@/components/selector'),\n    'v-jsonformatter': () => import('@/components/jsonformatter'),\n    'v-parameter-input': () => import('@/components/parameter-input')\n  }\n}\n</script>\n\n<style type=\"text/css\" lang=\"scss\" scoped>\n  @import 'index';\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/node-editor/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{ref:\"editNodeDialog\",attrs:{\"title\":'配置节点，当前节点编号：' + _vm.nodeId,\"ok\":_vm.confirm,\"width\":1000}},[_c('el-form',{ref:\"form\",staticClass:\"edit-node-dialog\",attrs:{\"slot\":\"body\",\"model\":_vm.node,\"label-width\":\"8em\"},slot:\"body\"},[_c('el-form-item',{attrs:{\"prop\":\"interfaceId\",\"label\":\"选择一个接口\",\"required\":\"\",\"rules\":[{ required: true, message: '请选择一个接口', trigger: ['blur', 'change'] }]}},[_c('v-selector',{staticStyle:{\"width\":\"666px\"},attrs:{\"id\":'id',\"text\":'complexName',\"searchKey\":'name',\"onSelectionChanged\":_vm.onSelectInterface,\"filterable\":true,\"remote\":true,\"placeholder\":\"请选择一个接口（可输入名称进行搜索）\",\"load\":_vm.node.interfaceId ? [_vm.node.interfaceId] : null,\"url\":_vm.interfacesSimpleListApi}}),_vm._v(\" \"),_c('el-input',{staticClass:\"hidden\",model:{value:(_vm.node.interfaceId),callback:function ($$v) {_vm.$set(_vm.node, \"interfaceId\", $$v)},expression:\"node.interfaceId\"}}),_vm._v(\" \"),_c('el-checkbox',{model:{value:(_vm.node.history),callback:function ($$v) {_vm.$set(_vm.node, \"history\", $$v)},expression:\"node.history\"}},[_vm._v(\"使用历史版本\")])],1),_vm._v(\" \"),(_vm.node.history)?_c('el-form-item',{attrs:{\"label\":\"历史接口\"}},[_c('v-selector',{attrs:{\"id\":'hash',\"text\":'name',\"onSelectionChanged\":_vm.onSelectHistoryInterface,\"placeholder\":\"请选择一个历史版本（不选择，当前接口作为副本）\",\"remote\":true,\"load\":_vm.node.hash ? [_vm.node.hash] : null,\"url\":_vm.interfacesVersionedSimpleListApi,\"extraParams\":_vm.node.interfaceId ? {interfacesId: _vm.node.interfaceId} : {interfacesId: -1}}})],1):_vm._e(),_vm._v(\" \"),(_vm.customInterfacesId)?_c('el-form-item',{attrs:{\"label\":\"已存用例\"}},[_c('v-selector',{staticStyle:{\"width\":\"400px\"},attrs:{\"id\":'id',\"text\":'name',\"searchKey\":'name',\"onSelectionChanged\":_vm.onSelectCusInterfacesItem,\"placeholder\":\"请选择一个历史保存的用例\",\"remote\":true,\"filterable\":true,\"url\":_vm.getCusInterfacesItemListApi,\"extraParams\":_vm.customInterfacesId ? {customInterfacesId: _vm.customInterfacesId, rows: 20} : {customInterfacesId: -1}}})],1):_vm._e(),_vm._v(\" \"),(_vm.node.interfaceId)?_c('el-form-item',{attrs:{\"label\":\"访问类型:\"}},[_c('div',[_vm._v(_vm._s(_vm.node.method))])]):_vm._e(),_vm._v(\" \"),(_vm.node.interfaceId)?_c('el-form-item',{attrs:{\"label\":\"接口地址:\"}},[_c('div',[_vm._v(_vm._s(_vm.node.url))])]):_vm._e(),_vm._v(\" \"),(_vm.node.interfaceId)?_c('el-form-item',{attrs:{\"label\":\"休眠\"}},[_c('el-input',{staticStyle:{\"display\":\"inline-block\",\"width\":\"100px\"},attrs:{\"placeholder\":\"0\"},model:{value:(_vm.node.sleep),callback:function ($$v) {_vm.$set(_vm.node, \"sleep\", $$v)},expression:\"node.sleep\"}}),_vm._v(\"　秒之后运行\\n        \")],1):_vm._e(),_vm._v(\" \"),(_vm.node.interfaceId)?_c('el-form-item',{attrs:{\"label\":\"必备Header:\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"circle\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.addHeader()}}}),_vm._v(\" \"),(_vm.node.headers)?_c('el-form',_vm._l((_vm.node.headers),function(h,index){return _c('el-form-item',{key:index},[_c('el-input',{staticClass:\"param-key\",attrs:{\"placeholder\":\"请输入headers参数名\"},model:{value:(h.key),callback:function ($$v) {_vm.$set(h, \"key\", $$v)},expression:\"h.key\"}},[_c('template',{slot:\"prepend\"},[_c('span',[_vm._v(\"参数名\")])])],2),_vm._v(\" \"),_c('span',{staticClass:\"v-top\"},[_vm._v(\"=\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"param-value\",attrs:{\"placeholder\":\"请输入headers参数值\"},model:{value:(h.value),callback:function ($$v) {_vm.$set(h, \"value\", $$v)},expression:\"h.value\"}},[_c('template',{slot:\"prepend\"},[_c('span',[_vm._v(\"参数值\")])])],2),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.delHeader(index)}}})],1)}),1):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.node.interfaceId)?_c('el-form-item',{attrs:{\"label\":\"预置参数:\"}},[_c('v-parameter-input',{attrs:{\"parameters\":_vm.node.preParams}})],1):_vm._e(),_vm._v(\" \"),(_vm.node.interfaceId)?_c('el-form-item',{attrs:{\"label\":\"接口参数:\"}},[_c('v-parameter-input',{attrs:{\"parameters\":_vm.node.parameters}})],1):_vm._e(),_vm._v(\" \"),(_vm.node.interfaceId)?_c('el-form-item',{attrs:{\"label\":\"返回值数据结构:\"}},[(_vm.generatedReturns)?_c('v-jsonformatter',{attrs:{\"json\":_vm.generatedReturns,\"min-height\":100}}):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.node.interfaceId)?_c('el-form-item',{attrs:{\"label\":\"检查点:\"}},[_c('el-input',{attrs:{\"placeholder\":(\"注：本接口的调用结果将存入$\" + _vm.nodeId + \"和this中。\\n另外可以获取上游节（以及上游的上游）点带来的数据，如：$anotherNode.xx\\n在这里写入一些检查点脚本，示例：\\n\\nassert(this.name != null, '返回名称不能为空！')\\nassert($\" + _vm.nodeId + \".id != null, '返回id不能为空！')\\nassert($\" + _vm.nodeId + \".quantity > 0, '数量必须大于等于零！')\\n\\n如果报错了，那么整个流程将被终止。\"),\"rows\":18,\"type\":\"textarea\"},model:{value:(_vm.node.javascript),callback:function ($$v) {_vm.$set(_vm.node, \"javascript\", $$v)},expression:\"node.javascript\"}})],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-b5c92d72\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/node-editor/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b5c92d72\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b5c92d72\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b5c92d72\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/node-editor/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}